---
title: "CSSã ã‘ã§å®Ÿè£…ã™ã‚‹ãƒã‚¦ã‚¹ãƒ»ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã£ã½ã„ã‚„ã¤"
emoji: "ğŸ·"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["CSS", "Sass", "Pug"]
published: false
---

åˆã‚ã«æ–­ã£ã¦ãŠãã¾ã™ã€‚
æœ¬è¨˜äº‹ã§ç´¹ä»‹ã™ã‚‹æŠ€è¡“ã¯å®Ÿå‹™ã§ã¯**å½¹ã«ç«‹ãŸãªã„**ã€ã‚‚ã—ãã¯**å½¹ã«ç«‹ãŸãªã„å¯èƒ½æ€§ãŒé«˜ã„**ã§ã™ã€‚
ãªã®ã§éŠã³ã®å»¶é•·ã¨ã—ã¦æ‰ãˆã¦ã‚‚ã‚‰ãˆã‚‹ã¨ã‚ã‚ŠãŒãŸãæ€ã„ã¾ã™ã€‚

# æ¦‚è¦

CSS ã ã‘ã§ãƒã‚¦ã‚¹ãƒ»ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã£ã½ã„ã‚„ã¤ã‚’å®Ÿè£…ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚
ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã®å®Ÿè£…ã¨ã„ã†ã¨é›£ã—ãã†ãªæ„Ÿã˜ãŒã—ã¾ã™ãŒã€ä»Šå›ã®å®Ÿè£…ã¯ã‚ãã¾ã§ãƒã‚¦ã‚¹ãƒ»ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³**ã£ã½ã„**ã€ã„ã‚ã°ãªã‚“ã¡ã‚ƒã£ã¦ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆã—ã‹ã‚‚ CSS ã®ã¿ï¼‰ãªã®ã§ã€è»½ã„æ°—æŒã¡ã§èª­ã‚“ã§ã„ãã¾ã—ã‚‡ã†ã€‚

# å®Œæˆå½¢

ãªã«ã¯ã¨ã‚‚ã‚ã‚Œå®Œæˆå½¢ã®ç´¹ä»‹ã§ã™ã€‚çŠ¬ã®ç›®ç·šãŒãƒã‚¦ã‚¹ã‚«ãƒ¼ã‚½ãƒ«ã‚’è¿½ã„ã‹ã‘ã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã¾ã™ã­ã€‚
ä»Šå›ã¯ã“ã¡ã‚‰ã®å®Œæˆå½¢ã‚’ã‚‚ã¨ã«èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚

@[codepen](https://codepen.io/yend24/pen/gOGPmvz)

â€»CodePen ã«å…¨ä½“ã®ã‚³ãƒ¼ãƒ‰ã‚’è¼‰ã›ã¦ã„ã‚‹æ™‚ã¯ã€å¿…è¦ãªã‚³ãƒ¼ãƒ‰ã ã‘ã‚’æŠœç²‹ã—ã¦èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚å…¨ä½“ã®ã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèªã—ãŸã„æ™‚ã¯ CodePen ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

# ãƒã‚¦ã‚¹ã®ä½ç½®ã‚’å–å¾—ã™ã‚‹

ãƒã‚¦ã‚¹ãƒ»ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã™ã‚‹ãŸã‚ã«ã¯ãƒã‚¦ã‚¹ã®ä½ç½®ã‚’å–å¾—ã—ãŸã„ã§ã™ã­ã€‚
ã—ã‹ã—ãªãŒã‚‰ JavaScript ã¨ç•°ãªã‚Š CSS ã«ã¯ç›´æ¥ãƒã‚¦ã‚¹ã®ä½ç½®ã‚’å–å¾—ã™ã‚‹æ–¹æ³•ãŒã‚ã‚Šã¾ã›ã‚“ã€‚
ã§ã¯ã©ã†ã™ã‚‹ã‹ã¨ã„ã†ã¨ `:hover` ã‚’ä½¿ã„ã¾ã™ã€‚

@[codepen](https://codepen.io/yend24/pen/WNZrpPB)

```scss:scss
$rows: 25;
$cols: 4;
.container {
  position: relative;
  display: flex;
  flex-wrap: wrap;
  width: 100%;
  height: 100%;
}
.point {
  display: inline-block;
  width: (100% / $cols);
  height: (100% / $rows);
  box-sizing: border-box;
  border: 1px solid rgba(100, 0, 0, 0.2);
  background-color: rgba(200, 0, 0, 0.2);
  &:hover {
    background-color: rgba(200, 0, 0, 0.6);
  }
}
```

ãƒ›ãƒãƒ¼ã—ãŸç®‡æ‰€ã®è‰²ãŒå¤‰åŒ–ã—ã¾ã™ã€‚
ç”»é¢ã‚µã‚¤ã‚ºã« DOM è¦ç´ ã‚’ä¸¦ã¹ã‚‹ã“ã¨ã§ã€ãƒã‚¦ã‚¹ãŒãƒ›ãƒãƒ¼ã—ã¦ã„ã‚‹è¦ç´ ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ã‚ˆã‚Šå¤šãã®è¦ç´ ã‚’ä½¿ã†ã“ã¨ã«ã‚ˆã£ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒã‚¦ã‚¹ã‚¹ãƒˆãƒ¼ã‚«ãƒ¼ã£ã½ã„ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

@[codepen](https://codepen.io/yend24/pen/abLdWvy)

# ãƒã‚¦ã‚¹ã®ä½ç½®ã‚’ã‚‚ã¨ã«ä»–ã®è¦ç´ ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å¤‰æ›´ã™ã‚‹

`:hover` ã®è¦ç´ ã‚’ã‚‚ã¨ã«ä»–ã®è¦ç´ ã‚’ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å¤‰æ›´ã—ã¦ã¿ã¾ã™ã€‚
ã“ã‚Œã¯éå¸¸ã«ç°¡å˜ã§ `~` ã‚’ä½¿ã†ã“ã¨ã«ã‚ˆã£ã¦å®Ÿç¾ã§ãã¾ã™ã€‚ã¡ãªã¿ã« `~` ã¯`ä¸€èˆ¬å…„å¼Ÿçµåˆå­` ã¨ã„ã†ã‚‰ã—ã„ã§ã™ã€‚

ä¸‹è¨˜ã®ã‚ˆã†ã«ä½¿ã„ã¾ã™ã€‚

```css:css
.older ~ .younger {
	color: red;
}
```

è©³ã—ã„èª¬æ˜ã¯ MDN ã‚’èª­ã‚“ã§ãã ã•ã„ã€‚

https://developer.mozilla.org/ja/docs/Web/CSS/General_sibling_combinator

> ã¾ãšã€å³å´ã®ã‚»ãƒ¬ã‚¯ã‚¿ã§é¸æŠã•ã‚Œã‚‹è¦ç´ ãŒã€å·¦å´ã®ã‚»ãƒ¬ã‚¯ã‚¿ã§é¸æŠã•ã‚Œã‚‹è¦ç´ ã‚ˆã‚Šå¾Œã«ç¾ã‚Œã‚‹ã“ã¨ã§ã™ã€‚ï¼ˆç›´å¾Œã§ã‚ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ï¼‰
> ã‚‚ã†ã²ã¨ã¤ã¯ã€ã“ã‚Œã‚‰ã®è¦ç´ ãŒåŒã˜è¦ªè¦ç´ ï¼ˆè¦ç´ ï¼‰ã‚’ã‚‚ã¤ã“ã¨ã§ã™ã€‚

é‡è¦ãªã®ã¯ã“ã® 2 ç‚¹ã§ã™ã­ã€‚

- å…„å¼Ÿè¦ç´ ã§ã‚ã‚‹ã“ã¨
- `å…„è¦ç´ ` ~ `å¼Ÿè¦ç´ ` ã®é †ã§ã‚ã‚‹ã“ã¨

ç°¡å˜ã«ä½¿ç”¨ä¾‹ã‚’æ›¸ã„ã¦ã¿ã¾ã™ã€‚

@[codepen](https://codepen.io/yend24/pen/VwMebEg)

ãƒ›ãƒãƒ¼ã—ãŸè¦ç´ ã¨ã¯åˆ¥ã®è¦ç´ ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å¤‰æ›´ã§ãã¾ã—ãŸã€‚
`:hover` ã¨ `~`ã€‚ã“ã®äºŒã¤ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã£ã½ã„å®Ÿè£…ãŒå¯èƒ½ã¨ãªã‚Šã¾ã™ã€‚

ã§ã¯ã€è©¦ã—ã«çŠ¬ã®ç›®ã ã‘ã‚’å®Ÿè£…ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

@[codepen](https://codepen.io/yend24/pen/xxXZrre)

```scss:scss
$rows: 25;
$cols: 2;
.container {
	position: relative;
	display: flex;
	flex-wrap: wrap;
	width: 100%;
	height: 100%;
	> .point {
		display: inline-block;
		width: 100% / $cols;
		height: 100% / $rows;
		z-index: 100; // .point .faceã‚ˆã‚Šå‰é¢ã«æ¥ã‚‹å¿…è¦ãŒã‚ã‚‹
		// ãƒã‚¦ã‚¹ãŒå³å´ã«ã‚ã‚‹ã‹å·¦å´ã«ã‚ã‚‹ã‹ã§ã€å›è»¢ã®å‘ãã‚’å¤‰ãˆã‚‹
		@for $i from 0 through ($rows - 1) {
			// ($i * 2) + 1 ã¯å¥‡æ•°ãªã®ã§å·¦å´ã«ãƒã‚¦ã‚¹ãŒã‚ã‚‹æ™‚
			&:nth-child(#{($i * 2) + 1}):hover ~ .face {
				.eye {
					&.l {
						transform: rotate(#{$i * -180 / ($rows - 1)}deg);
					}
					&.r {
						transform: rotate(#{$i * -180 / ($rows - 1)}deg);
					}
				}
			}
			// ($i * 2) + 1 ã¯å¶æ•°ãªã®ã§å³å´ã«ãƒã‚¦ã‚¹ãŒã‚ã‚‹æ™‚
			&:nth-child(#{($i * 2) + 2}):hover ~ .face {
				.eye {
					&.l {
						transform: rotate(#{$i * 180 / ($rows - 1)}deg);
					}
					&.r {
						transform: rotate(#{$i * 180 / ($rows - 1)}deg);
					}
				}
			}
		}
	}
}
```

ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã«ãŠã‘ã‚‹æ³¨æ„ç‚¹ã¨ã—ã¦ã¯ãƒ›ãƒãƒ¼ã‚’èªè­˜ã™ã‚‹è¦ç´ ï¼ˆ`.point`ï¼‰ã¨ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å¤‰æ›´ã™ã‚‹è¦ç´ ãŒå…„å¼Ÿè¦ç´ ã§ã‚ã‚‹ï¼ˆå…„å¼Ÿè¦ç´ ã«å«ã¾ã‚Œã‚‹ï¼‰ã“ã¨ã€ã¾ãŸã‚¹ã‚¿ã‚¤ãƒ«ã‚’å¤‰æ›´ã™ã‚‹è¦ç´ ï¼ˆ`.face`ï¼‰ãŒ `absolute` ã§ã‚ã‚‹ã“ã¨ãã‚‰ã„ã§ã™ã­ã€‚

ç›®ã®å›è»¢ã«å¿…è¦ãª `transform:rotate()` ã®è¨ˆç®—ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªæ„Ÿã˜ã§ã™ã€‚

```
$rows: 25 ã§
@for $i from 0 through ($rows - 1)ã€€ã®æ™‚
$i ã¯ 0 ~ 24 ã¾ã§ãªã®ã§

0 <= $i * 180 / ($rows - 1) <= 180

ã§ã‚ã‚Šã€ãƒã‚¦ã‚¹ãŒå³å´ã«ã‚ã‚‹ã‹å·¦å´ã«ã‚ã‚‹ã‹ã§ç¬¦å·ã‚’åè»¢ã™ã‚Œã°çŠ¬ã®ç›®ãŒãƒã‚¦ã‚¹ã‚’è¿½ã£ã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã‚‹
```

ã‚ã¨ã¯åŒæ§˜ã«è€³ã®å‚¾ãã‚’è¨ˆç®—ã—ã¦ã€ä»–ãƒ‘ãƒ¼ãƒ„ã‚’é…ç½®ã™ã‚Œã°å®Œæˆã¨ãªã‚Šã¾ã™ã€‚

# å®Œæˆã‚³ãƒ¼ãƒ‰

å†’é ­ã® CodePen ã«è¼‰ã£ã¦ã„ã‚‹ã‚³ãƒ¼ãƒ‰ã¨åŒã˜ã‚‚ã®ã«ãªã‚Šã¾ã™ãŒã€ã“ã¡ã‚‰ã«ã‚‚è¨˜è¼‰ã—ã¦ãŠãã¾ã™ã€‚

:::details å®Œæˆã‚³ãƒ¼ãƒ‰

```pug:pug
.wrapper
  .container
    - for (var i = 0; i < 50; i++)
      span.point
    .face
      .ears
        .ear.l
        .ear.r
      .eyes
        .eye.l
          span
        .eye.r
          span
      .nose
      .mouse
```

```scss:scss
$rows: 25;
$cols: 2;
html,body {
  width: 100%;
  height: 100%;
}
.wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
  background-color: skyblue;
}
.container {
  display: flex;
  flex-wrap: wrap;
  width: 100%;
  height: 100%;
  > .point {
    position: relative;
    display: inline-block;
    width: 100% / $cols;
    height: 100% / $rows;
    z-index: 100;
    // ç›®ã®å›è»¢
    @for $i from 0 through ($rows - 1){
      &:nth-child(#{($i * 2) + 1}):hover ~ .face {
        .eye {
          &.l {
            transform: rotate(#{$i * -180 / ($rows - 1)}deg)
          }
          &.r {
            transform: rotate(#{$i * -180 / ($rows - 1)}deg)
          }
        }
      }
      &:nth-child(#{($i * 2) + 2}):hover ~ .face {
        .eye {
          &.l {
            transform: rotate(#{$i * 180 / ($rows - 1)}deg)
          }
          &.r {
            transform: rotate(#{$i * 180 / ($rows - 1)}deg)
          }
        }
      }
    }
    // è€³ã®èª¿æ•´
    @for $i from 0 through ($rows - 1) {
      &:nth-child(#{$i * 2 + 1}):hover,
      &:nth-child(#{$i * 2 + 2}):hover {
        & ~ .face {
          .ear {
            &.l {
              transform: rotate(#{$i + 45}deg);
            }
            &.r {
              transform: rotate(#{($i * -1) - 45}deg);
            }
          }
        }
      }
    }
  }
}

.face {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 300px;
  height: 300px;
  margin: auto;
  border-radius: 30%;
  background-color: orange;
}

.eyes {
  position: absolute;
  top: 70px;
  left: 0;
  right: 0;
  width: 250px;
  height: 100px;
  margin: 0 auto;
  .eye {
    position: absolute;
    top: 0;
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background-color: white;
    &.l {
      left: 0;
    }
    &.r {
      right: 0;
    }
    > span {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      width: 50%;
      height: 50%;
      margin: 0 auto;
      border-radius: 50%;
      background-color: #000;
    }
  }
}

.ears {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  .ear {
    position: absolute;
    top: 0;
    width: 100px;
    height: 200px;
    background: #000;
    border-radius: 50px / 100px;
    &.l {
      left: -10px;
      transform-origin: top center;
      transform: rotate(45deg);
    }
    &.r {
      right: -10px;
      transform-origin: top center;
      transform: rotate(-45deg);
    }
  }
}

.nose {
  position: absolute;
  width: 50px;
  height: 30px;
  background-color: #000;
  top: 200px;
  left: 0;
  right: 0;
  margin: 0 auto;
  border-radius: 50%;
  z-index: 10;
}

.mouse {
  position: absolute;
  top: 220px;
  right: 0;
  left: 0;
  width: 100px;
  height: 25px;
  margin: 0 auto;
  box-sizing: border-box;
  &::before, &::after {
    content: "";
    position: absolute;
    top: 0;
    width: 50%;
    height: 100%;
  }
  &::before {
    left: 0;
    border-bottom-left-radius: 50%;
    border-bottom-right-radius: 100%;
    border-bottom: 3px solid #000;
    border-right: 3px solid #000;
  }
  &::after {
    right: 0;
    border-bottom-left-radius: 100%;
    border-bottom-right-radius: 50%;
    border-bottom: 3px solid #000;
    border-left: 3px solid #000;
  }
}
```

:::

# ã¾ã¨ã‚

CSS ã ã‘ã‚’ä½¿ç”¨ã—ãŸãƒã‚¦ã‚¹ãƒ»ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³**ã£ã½ã„**å®Ÿè£…ã§ã—ãŸã€‚
ã¨ã‚Šã‚ã‘é›£ã—ã„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚„æ‰‹æ³•ã‚’ä½¿ã£ã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªã„ã®ã§ã€ãœã²è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚
æœ¬è¨˜äº‹ã®å†…å®¹ã¯å®Ÿå‹™ã§ã‚ã¾ã‚Šä½¿ã†æ©Ÿä¼šã®ãªã„éŠã³ã¿ãŸã„ãªã‚‚ã®ã§ã™ãŒã€éŠã‚“ã§ã„ã‚‹ã†ã¡ã«æ€ã‚ã¬ç™ºè¦‹ãŒã‚ã£ãŸã‚Šã—ã¾ã™ã€‚
CSS ã®å¯èƒ½æ€§ã¯ç™ºæƒ³æ¬¡ç¬¬ã§ç„¡é™å¤§ã ã¨æ€ã†ã®ã§ã€ã©ã‚“ã©ã‚“éŠã‚“ã§ã„ãã¾ã—ã‚‡ã†ã€‚
